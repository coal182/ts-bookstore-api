<h2>Product Details</h2>

<div *ngIf="product$ | async">
  <div class="row">
    <div class="col">
      <img
        [src]="
          (product$ | async)?.image ||
          'https://upload.wikimedia.org/wikipedia/commons/1/14/Product_sample_icon_picture.png'
        "
      />
    </div>
    <div class="col">
      <h3>{{ (product$ | async)?.name }}</h3>
      <h4>{{ (product$ | async)?.price | currency }}</h4>
      <p>{{ (product$ | async)?.description }}</p>
      <button
        mat-flat-button
        type="button"
        color="primary"
        (click)="addToCart()"
      >
        Buy <mat-icon>add_shopping_cart</mat-icon>
      </button>
      <button
        mat-flat-button
        type="button"
        color="basic"
        (click)="share()"
        [disabled]="isLoading"
      >
        Share <mat-icon>share</mat-icon>
        <mat-icon *ngIf="isLoading">
          <mat-progress-spinner
            mode="indeterminate"
            diameter="24"
            data-test="progress-spinner"
          ></mat-progress-spinner>
        </mat-icon>
      </button>
    </div>
  </div>
</div>
