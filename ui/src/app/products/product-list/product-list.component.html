<h2>Products</h2>

<!-- 
Copyright Google LLC. All Rights Reserved.
Use of this source code is governed by an MIT-style license that
can be found in the LICENSE file at https://angular.io/license
-->
<div class="product-list">
  <article *ngFor="let product of products$ | async">
    <h3>
      <a
        [title]="product.name + ' details'"
        [routerLink]="['/products', product.id]"
      >
        <img
          [src]="
            product.image ||
            'https://upload.wikimedia.org/wikipedia/commons/1/14/Product_sample_icon_picture.png'
          "
        />
        {{ product.name }}
      </a>      
    </h3>

    <p *ngIf="product.price">{{ product.price | currency }}</p>
    
    <button
      mat-flat-button
      type="button"
      color="primary"
      (click)="addToCart(product)"     
    >
      Buy <mat-icon>add_shopping_cart</mat-icon>
    </button>
  </article>
</div>
<mat-progress-spinner *ngIf="isLoading"
  mode="indeterminate"
  data-test="progress-spinner-2"
  style="margin:0 auto;"
></mat-progress-spinner>
