<h2>Products</h2>

<!-- 
Copyright Google LLC. All Rights Reserved.
Use of this source code is governed by an MIT-style license that
can be found in the LICENSE file at https://angular.io/license
-->
<div class="product-list">
  <article *ngFor="let product of products$ | async">
    <h3>
      <a
        [title]="product.name + ' details'"
        [routerLink]="['/products', product._id]"
      >
        <img
          [src]="
            product.image ||
            'https://upload.wikimedia.org/wikipedia/commons/1/14/Product_sample_icon_picture.png'
          "
        />
        {{ product.name }}
      </a>

      <p *ngIf="product.price">{{ product.price | currency }}</p>

      <app-product-alerts [product]="product" (notify)="onNotify()">
      </app-product-alerts>

      <ng-template #msgDialog let-data>
        <mat-dialog-content>
          {{ data.msg }}
        </mat-dialog-content>
        <mat-dialog-actions align="center">
          <button mat-dialog-close tabindex="-1">Cerrar</button>
        </mat-dialog-actions>
      </ng-template>
    </h3>
  </article>
</div>
<mat-progress-spinner *ngIf="isLoading"
  mode="indeterminate"
  data-test="progress-spinner-2"
  style="margin:0 auto;"
></mat-progress-spinner>
